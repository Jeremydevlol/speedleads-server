
<!-- SNIPPET TODO EN UNO - VANILLA JS -->
<video
  id="v"
  autoplay
  muted
  playsinline
  webkit-playsinline
  preload="metadata"
  disablepictureinpicture
  controlslist="nodownload"
  crossorigin="anonymous"
  poster="/posters/clip-001.jpg"
></video>

<script type="module">
  const v = document.getElementById('v')
  v.src = '/videos/clip-001.mp4' // รณ HLS .m3u8 en Safari

  const tryPlay = async () => {
    try { await v.play() } catch {}
  }

  // 1) intento agresivo
  tryPlay()

  // 2) fallback por primer toque
  const onTap = async () => {
    await tryPlay()
    window.removeEventListener('pointerdown', onTap, { capture:true })
  }
  window.addEventListener('pointerdown', onTap, { once:true, capture:true })

  // 3) "solo 1 video activo": ejemplo minimal
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) v.pause()
  })
</script>
